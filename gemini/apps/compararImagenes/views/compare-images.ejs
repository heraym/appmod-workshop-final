<html><head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
    * {
      box-sizing: border-box;
    }
    .main {
      float: left;
      width: 60%;
      padding: 0 20px;
    }
    </style></head>
    <body style="font-family:Verdana;color:#aaaaaa;">
    <div style="background-color:#e5e5e5;padding:15px;text-align:center;">
    <h1 style="font-size:5vw">Comparar imagenes</h1>
    </div>
    <div class="main">
        <h2>Comparacion de Imagenes con Gemini</h2>
        <p>Lo que hacemos en este ejemplo es pedirle a la API de Gemini que me compare estas imagenes. Podemos cargar cualquier imagen y ver que nos dice.</p>
    
    <form id="file1form" action="fileupload1" method="post" enctype="multipart/form-data">
    Imagen1: <input type="file" id="files" name="filetoupload1" onchange="document.getElementById('file1form').submit()" accept="image/*">
    <img src="<%= imagen1 %>" id="img-imagen1" width="auto" height="150"/> <br></form>
    <form id="file2form" action="fileupload2" method="post" enctype="multipart/form-data">
    Imagen2: <input type="file" id="files" name="filetoupload2" onchange="document.getElementById('file2form').submit()" accept="image/*">
    <img src="<%= imagen2 %>" id="img-imagen2" width="auto" height="150"/> 
    <br>
</form>

<input type="button" value="Preguntar" onclick="preguntar()"/><br>
<div id="resultado"></div>
</div>
<br>
<script>
    async function preguntar() {
        var response = await   
        fetch('/compare-images-query', {
            method: 'GET'});
        response = await response.text();

        document.getElementById("resultado").innerHTML = response;
    }
    function mostrarImagen1() { 
      var imagen = document.getElementById("img-imagen1");
      imagen.src = document.getElementById("imagen1").value;
   }
   function mostrarImagen2() {
     var imagen = document.getElementById("img-imagen2");
     imagen.src = document.getElementById("imagen2").value;
   };
</script>    
</body></html>